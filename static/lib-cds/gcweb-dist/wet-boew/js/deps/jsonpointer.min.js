(function(){"use strict";function a(a,c){if(k(a))try{a=JSON.parse(a)}catch(a){throw g(q.INVALID_DOCUMENT)}else if(!h(a))throw g(q.INVALID_DOCUMENT_TYPE);var d=b(a);return l(c)?d:d(c)}function b(a){var b={};return function(e){if(!c(e))throw g(q.INVALID_POINTER);if(b.hasOwnProperty(e))return b[e];for(var h,i=d(e),j=a;!l(j)&&!l(h=i.pop());)j=f(j,h);return b[e]=j,j}}function c(a){return!!k(a)&&(""===a||p.test(a))}function d(a){var b=a.split(n).reverse();return b.pop(),b}function e(a){for(var b,c,d,e,f=a,g=0;g<m.length;g++)d=m[g],b=d[0],c=d[1],e=new RegExp(c,"g"),f=f.replace(e,b);return f}function f(a,b){if(b=e(b),i(a)){if("-"===b)throw g(q.HYPHEN_IS_NOT_SUPPORTED_IN_ARRAY_CONTEXT);if(!j(b))throw g(q.NON_NUMBER_TOKEN_IN_ARRAY_CONTEXT);if(b.length>1&&"0"===b[0])throw g(q.TOKEN_WITH_LEADING_ZERO_IN_ARRAY_CONTEXT);return a[b]}if(h(a))return a[b]}function g(a){return new Error(o+a)}function h(a){return"object"==typeof a&&null!==a}function i(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)}function j(a){return!isNaN(Number(a))}function k(a){return"string"==typeof a||a instanceof String}function l(a){return void 0===a}var m=[["/","~1"],["~","~0"]],n="/",o="JSON Pointer: ",p=/(\/[^\/]*)+/,q={HYPHEN_IS_NOT_SUPPORTED_IN_ARRAY_CONTEXT:'Implementation does not support "-" token for arrays.',INVALID_DOCUMENT:"JSON document is not valid.",INVALID_DOCUMENT_TYPE:"JSON document must be a string or object.",INVALID_POINTER:"Pointer is not valid.",NON_NUMBER_TOKEN_IN_ARRAY_CONTEXT:"Non-number tokens cannot be used in array context.",TOKEN_WITH_LEADING_ZERO_IN_ARRAY_CONTEXT:"Token with leading zero cannot be used in array context."},r={get:a};"object"==typeof exports?module.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):this.jsonpointer=r}).call(function(){"use strict";return"undefined"!=typeof window?window:this}());