/*!
 * Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * v4.0.30 - 2019-04-10
 *
 */
!function(a,b,c,d){"use strict";var e="wb-datalist",f="input[list]",g="wb-init."+e,h="wb-update."+e,i="setfocus.wb",j=!1,k=d.doc,l=function(b){var c=d.init(b,e,f);c&&(c.setAttribute("autocomplete","off"),c.setAttribute("role","textbox"),c.setAttribute("aria-haspopup","true"),c.setAttribute("aria-autocomplete","list"),c.setAttribute("aria-owns","wb-al-"+c.id),c.setAttribute("aria-activedescendent",""),m(c),d.ready(a(c),e),j=!0)},m=function(b){var d,e,f,g,h=a(b),i="<div class='wb-al-cnt'><ul role='listbox' id='wb-al-"+b.id+"' class='wb-al hide' aria-hidden='true' aria-live='polite'></ul>",j=c.getElementById(b.getAttribute("list")),k=j.getElementsByTagName("option"),l=k.length;for(i+="<ul class='wb-al-src hide' aria-hidden='true'>",g=0;g!==l;g+=1)d=k[g],e=d.getAttribute("value"),f=d.getAttribute("label"),e||(e=d.innerHTML),i+="<li id='al-opt-"+b.id+"-"+g+"'><a href='javascript:;' tabindex='-1'><span class='al-val'>"+(e?e:"")+"</span><span class='al-lbl'>"+(f&&f!==e?f:"")+"</span></a></li>";h.after(i+"</ul></div>")},n=function(b,c){var d,e=a(b.nextSibling.firstChild),f=e.next().children().clone();c&&0!==c.length&&(d=c.toLowerCase(),f=f.filter(function(){var b=a(this),c=b.find("span.al-val").html();return 0===c.length&&(c=b.find("span.al-lbl").html()),0===d.length||0===c.toLowerCase().indexOf(d)})),e.empty().append(f),0!==f.length?(p(b),e.removeClass("hide").attr("aria-hidden","false"),b.setAttribute("aria-expanded","true")):(e.addClass("hide").attr("aria-hidden","true"),b.setAttribute("aria-expanded","false"))},o=function(a){var b=a.nextSibling.firstChild;b.className+=" hide",b.innerHTML="",b.setAttribute("aria-hidden","true"),a.setAttribute("aria-expanded","false"),a.setAttribute("aria-activedescendent","")},p=function(b){var c=a(b),d=a(b.nextSibling.firstChild);d.css({width:c.outerWidth(),left:c.position().left})},q=function(b,c){var d,e,f,g,h=c.target,j=h.nextSibling.firstChild,k=-1!==j.className.indexOf("hide");if(!(c.ctrlKey||c.altKey||c.metaKey))if(32===b||b>47&&91>b||b>95&&112>b||b>159&&177>b||b>187&&223>b)c.altKey||n(h,h.value+String.fromCharCode(b));else if(8!==b||c.altKey){if((38===b||40===b)&&""===h.getAttribute("aria-activedescendent"))return k&&n(h),d=j.getElementsByTagName("a"),e=d[38===b?d.length-1:0],h.setAttribute("aria-activedescendent",e.parentNode.getAttribute("id")),a(e).trigger(i),!1;k||(9===b||27===b||27===b&&!c.altKey)&&o(h)}else f=h.value,g=f.length,0!==g&&n(h,f.substring(0,g-1))},r=function(b,c){var d,e,f,g,h,j=c.parentNode.parentNode,k=j.parentNode.previousSibling,l=a(k);if(!(event.ctrlKey||event.altKey||event.metaKey)){if(32===b||b>47&&91>b||b>95&&112>b||b>159&&177>b||b>187&&223>b)return k.value+=String.fromCharCode(b),l.trigger(i),n(k,k.value),!1;if(8===b)return f=k.value,g=f.length,0!==g&&(k.value=f.substring(0,g-1),n(k,k.value)),l.trigger(i),!1;if(13===b)return d=c.getElementsByTagName("span"),f=d[0].innerHTML,0===f.length&&(f=d[1].innerHTML),k.value=f,l.trigger(i),o(k),!1;if(9===b||27===b)return l.trigger(i),o(k),!1;if(38===b||40===b)return 38===b?(e=c.parentNode.previousSibling,e||(h=j.getElementsByTagName("li"),e=h[h.length-1])):(e=c.parentNode.nextSibling,e||(e=j.getElementsByTagName("li")[0])),e=e.getElementsByTagName("a")[0],k.setAttribute("aria-activedescendent",e.parentNode.getAttribute("id")),a(e).trigger(i),!1}},s=function(b){var c=b.nodeName.toLowerCase(),d="a"===c?b:b.parentNode,e=d.parentNode.parentNode,f=e.parentNode.previousSibling,g=a(f),h=d.getElementsByTagName("span"),j=h[0].innerHTML;return 0===j.length&&(j=h[1].innerHTML),f.value=j,g.trigger(i),o(f),!1};k.on("timerpoke.wb "+g+" "+h+" keydown click vclick touchstart",f,function(a){var b,c=a.target,d=a.type,f=a.which;switch(d){case"timerpoke":case"wb-init":l(a);break;case"wb-update":a.namespace===e&&m(a.target);break;case"keydown":if(!a.ctrlKey&&!a.metaKey)return q(f,a);break;case"click":case"vclick":case"touchstart":j&&(f&&1!==f||(b=c.nextSibling.firstChild,-1===b.className.indexOf("hide")?o(c):n(c,c.value)))}return!0}),k.on("keydown click vclick touchstart",".wb-al a, .wb-al span",function(a){var b=a.target,c=a.type,d=a.which;switch(c){case"keydown":if(!a.ctrlKey&&!a.metaKey)return r(d,b);break;case"click":case"vclick":case"touchstart":if(!d||1===d)return s(b)}}),k.on("focusin txt-rsz.wb win-rsz-width.wb win-rsz-height.wb",function(b){var c,d,e,g,h,i="focusin"===b.type,l=b.target;if(j)for(c=k.find(f).get(),h=c.length,g=0;g!==h;g+=1)d=c[g],i?(e=d.nextElementSibling||a(d).next().get(0),-1!==e.firstChild.className.indexOf("hide")||l===e||a.contains(e,l)||o(d)):p(d)}),d.add(f)}(jQuery,window,document,wb);
//# sourceMappingURL=datalist.min.js.map